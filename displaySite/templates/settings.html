{% extends "content.html" %}

{% load staticfiles %}

{% block settings %}
  <div class="profile-content border">
    <h1 class="hidden-xs tableTitle">Настройки</h1>
    <h1 class="visible-xs tableTitle text-center">Настройки</h1>

    <canvas id="c" style="width: 100%; height: 100%"></canvas>
    <img class="hidden" src="{% static "displaySite/1.jpg" %}" style="width: 100%" id="my-image">

    <script>
      var canvas = document.getElementById("c");
      var context = canvas.getContext("2d");
      var img = document.getElementById("my-image");

      canvas.width = 500
      canvas.height = 300

      context.drawImage(img, 0, 0, 500, 300);

      var rect = new fabric.Rect({
        left: 100,
        top: 100,
        fill: 'red',
        width: 20,
        height: 20,
      });

      canvas.add(rect);

    </script>

    <input id="fileupload" type="file" name="files[]" data-url="server/php/" multiple>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="js/vendor/jquery.ui.widget.js"></script>
    <script src="js/jquery.iframe-transport.js"></script>
    <script src="js/jquery.fileupload.js"></script>
    <script>
    $(function () {
        $('#fileupload').fileupload({
            dataType: 'json',
            done: function (e, data) {
                $.each(data.result.files, function (index, file) {
                    $('<p/>').text(file.name).appendTo(document.body);
                });
            }
        });
    });
    </script>







  </div>
{% endblock %}

{% block activeSettings %}
  <li class="active">
    <a href="/settings/" class="">
      <i class="glyphicon glyphicon-cog"></i>
      Настройки
    </a>
  </li>
{% endblock %}